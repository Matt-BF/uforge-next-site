import Head from "next/head";
import FluxesList from "../components/FluxesList";
import { server } from "../config";

const products = ({ fluxes }) => {
  return (
    <div>
      <Head>
        <title>Î¼Forge</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/logo_microForge.png" />
        <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
          integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
          crossOrigin="anonymous"
        />
      </Head>
      <h2 style={{ marginLeft: "50px" }}>Confira nosso fluxograma!</h2>
      <FluxesList fluxes={fluxes} />
    </div>
  );
};

export const getStaticProps = async () => {
  const res = await fetch(`${server}/api/fluxes`);
  const fluxes = await res.json();

  return {
    props: {
      fluxes,
    },
  };
};

export default products;
